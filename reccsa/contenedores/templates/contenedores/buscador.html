{% extends "contenedores/base.html" %} 
{% load static %} 
{% block title%}Buscador{% endblock %}

{% block custom %}
    <link rel="stylesheet" href="{%static "css/buscador.css" %}"> 

    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/plug-ins/1.13.7/i18n/es-ES.json"></script>
{% endblock %} 

{% block content %}
<div class="container" id="buscador">
  <div class="contenedor p-3 my-3 col-12">
    <table id="datatable_contenedores" class="table table-striped ">
      <thead>
        <button onClick='imprimirPantalla()' class='btn mt-1 mb-2 me-auto' id="documento"><i class="bi bi-file-earmark-text"></i></button>
        <tr class="bg-info">
          <th class='text-center'>Número Contenedor</th>
          <th class='text-center'>Número Factura</th>
          <th class='text-center'>Cliente</th>
          <th class='text-center'>Estado</th>
          <th class='text-center'>Fecha de salida</th>
          <th class='text-center'>ETA</th>
          {% if request.user.is_authenticated %}
            <th id='thdetalles' class='text-center'>Ver Detalles</th>
          {% endif %}
        </tr>
      </thead>
      <tbody id="tableBody_contenedores">
        {% for contenedor in contenedores %}
        <tr>
          <td class='text-center'>{{ contenedor.codigo }}</td>
          <td class='text-center'>{{ contenedor.factura.DocNum }}</td>
          <td class='text-center'>{{ contenedor.factura.CardName }}</td>
          <td class='text-center'>{{ contenedor.estado }}</td>
          <td class='text-center'>{{ contenedor.pol }}</td>
          <td class='text-center'>{{ contenedor.puerto_descarga_eta }}</td>
            {% if request.user.is_authenticated %}
              <td class='text-center tddetalles'><a href="{% url 'contenedor' contenedor.codigo %}" class="detalles"><i class="bi bi-arrow-right-circle"></i></a></td>
            {% endif %}
        </tr>
        {% endfor %} 
      </tbody>
    </table>
  </div>
</div>
{% load static %} 
<script src="{% static "js/buscador.js" %}"></script>
{% endblock %}
